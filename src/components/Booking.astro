---
import { useTranslations } from '../i18n/ui';
import { ArrowRight } from 'lucide-astro';
import { siteConfig } from '../config/site';

// For now, we'll use English as default
const t = useTranslations('en');

const providers = [
  siteConfig.booking?.airbnb && {
    key: 'airbnb',
    name: 'Airbnb',
    href: siteConfig.booking.airbnb,
    logo: '/images/logos/airbnb-logo.jpeg',
    i18nKey: 'booking.airbnb',
    className: 'airbnb'
  },
  siteConfig.booking?.agoda && {
    key: 'agoda',
    name: 'Agoda',
    href: siteConfig.booking.agoda,
    logo: '/images/logos/agoda-logo.jpeg',
    i18nKey: 'booking.agoda',
    className: 'agoda'
  },
  siteConfig.booking?.booking && {
    key: 'booking',
    name: 'Booking.com',
    href: siteConfig.booking.booking,
    logo: '/images/logos/booking-logo.jpeg',
    i18nKey: 'booking.booking',
    className: 'booking'
  },
  {
    key: 'trip',
    name: 'Trip.com',
    href: siteConfig.booking?.trip || '',
    logo: '/images/logos/trip-logo.jpeg',
    i18nKey: 'booking.trip',
    className: 'trip',
    disabled: true
  }
].filter(Boolean).sort((a, b) => (a!.name).localeCompare(b!.name));
---

<section id="booking" class="booking section">
  <div class="container">
    <div class="section-header">
      <h2 class="section-title" data-i18n="booking.title" />
      <p class="section-subtitle" data-i18n="booking.subtitle" />
    </div>

    <div class="booking-options">
      {providers.map((p) => (
        p.disabled ? (
          <div class={`booking-option btn ${p.className} disabled`} aria-disabled="true">
            <div class="booking-logo">
              <img src={p.logo} alt={p.name} class="logo-image" />
            </div>
            <div class="booking-content">
              <span data-i18n={p.i18nKey} />
            </div>
            <div class="booking-arrow">
              <ArrowRight size={20} />
            </div>
          </div>
        ) : (
          <a href={p.href} class={`booking-option btn ${p.className}`} target="_blank" rel="noopener noreferrer">
            <div class="booking-logo">
              <img src={p.logo} alt={p.name} class="logo-image" />
            </div>
            <div class="booking-content">
              <span data-i18n={p.i18nKey} />
            </div>
            <div class="booking-arrow">
              <ArrowRight size={20} />
            </div>
          </a>
        )
      ))}
    </div>
  </div>
</section>


