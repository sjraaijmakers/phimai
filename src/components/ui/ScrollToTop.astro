---
import { ChevronUp } from 'lucide-astro';
interface Props {
  id?: string;
  className?: string;
  text?: string;
  i18nKey?: string;
}

const { id = "scrollToTop", className = "", text, i18nKey } = Astro.props;
---

<button class={`scroll-to-top ${className}`} id={id} aria-label="Scroll to top">
  {text && <span class="scroll-to-top-text" data-i18n-key={i18nKey}>{text}</span>}
  <ChevronUp size={16} />
</button>

<script define:vars={{ buttonId: id }}>
  // Scroll to top functionality
  document.addEventListener('DOMContentLoaded', () => {
    const scrollToTopBtn = document.getElementById(buttonId);
    
    if (scrollToTopBtn) {
      // Show/hide scroll to top button based on scroll position
      window.addEventListener('scroll', () => {
        if (window.pageYOffset > 300) {
          scrollToTopBtn.classList.add('visible');
        } else {
          scrollToTopBtn.classList.remove('visible');
        }
      });
      
      // Scroll to top when button is clicked
      scrollToTopBtn.addEventListener('click', () => {
        window.scrollTo({
          top: 0,
          behavior: 'smooth'
        });
      });
    }
  });
</script>


