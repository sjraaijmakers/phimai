---
export interface Props {
  id: string;
  options: Array<{ value: string; label: string }>;
  selectedValue?: string;
  placeholder?: string;
  className?: string;
}

const { id, options, selectedValue, placeholder , className = "" } = Astro.props;
---

<select 
  id={id} 
  class={`native-select ${className}`}
  value={selectedValue}
>
  {placeholder && (
    <option value="" disabled selected={!selectedValue}>
      {placeholder}
    </option>
  )}
  {options.map((option) => (
    <option value={option.value} selected={option.value === selectedValue}>
      {option.label}
    </option>
  ))}
</select>

<style>
  .native-select {
    appearance: none;
    background: rgba(255, 255, 255, 0.9);
    border: 1px solid rgba(139, 115, 85, 0.15);
    border-radius: var(--radius-sm);
    color: var(--color-text);
    font-size: 0.875rem;
    font-family: inherit;
    padding: var(--space-sm) var(--space);
    width: auto;
    min-width: fit-content;
    cursor: pointer;
    backdrop-filter: blur(10px);
    transition: var(--transition);
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%238B7355' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
    background-position: right var(--space-sm) center;
    background-repeat: no-repeat;
    background-size: 1rem;
    padding-right: calc(var(--space) + 1.5rem);
  }

  .native-select:hover {
    border-color: var(--color-primary);
    background-color: rgba(255, 255, 255, 0.95);
    transform: translateY(-1px);
    box-shadow: var(--shadow-sm);
  }

  .native-select:focus {
    outline: none;
    border-color: var(--color-accent);
    box-shadow: 0 0 0 3px rgba(156, 175, 136, 0.1);
  }

  .native-select option {
    background: var(--color-white);
    color: var(--color-text);
    padding: var(--space-sm);
  }

  .native-select option:checked {
    background: var(--color-primary);
    color: white;
  }

  /* Header-specific styling */
  .header-actions .native-select {
    width: auto;
    min-width: fit-content;
    font-size: 0.8rem;
    padding: var(--space-xs) var(--space-sm);
    padding-right: calc(var(--space-sm) + 1.5rem);
  }

  /* Mobile adjustments */
  @media (max-width: 768px) {
    .header-actions .native-select {
      width: auto;
      min-width: fit-content;
      font-size: 0.75rem;
      padding: var(--space-xs);
      padding-right: calc(var(--space-xs) + 1.5rem);
    }
  }
</style>
